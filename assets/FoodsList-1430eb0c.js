import{S as P,_ as $}from"./goodIcon-ec0d85d4.js";import{S as b,N as I,P as x,a as C,A as N,b as O,c as F,d as T}from"./swiper-bundle-1bb37a3a.js";import{_ as w,r as d,o,d as h,w as m,c as a,e as B,F as R,b as t,n as A,t as r,f as g,p as y,a as v,l as c,g as V}from"./index-00c51352.js";import{_ as D}from"./imgDefault-e99dd575.js";import{_ as L}from"./landMark-c7acd33a.js";b.use([I,x,C,N,O]);const G={components:{Swiper:F,SwiperSlide:T},props:{city:{type:String},titleName:{type:String}},data(){return{spaceBetween:68,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:10,slidesPerGroup:1},768:{slidesPerView:2,spaceBetween:30,slidesPerGroup:2},960:{slidesPerView:4,spaceBetween:68,slidesPerGroup:4}},otherData:{}}},methods:{getOtherFoods(){const e=`https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant?$filter=contains(Address, '${this.city}')&$top=15&$format=JSON`;this.$http.get(e).then(i=>{this.otherData=i.data})},getProduct(e){this.$router.push(`/foods/${e}`)}},created(){this.getOtherFoods()}},M=e=>(y("data-v-1f4f4cfb"),e=e(),v(),e),U=["onClick"],E={class:"swiperImg"},J={key:0,src:D,alt:"預設圖片"},j=["src","alt"],q={class:"swiperTextContent"},z=M(()=>t("img",{class:"landMark",src:L,alt:"地點icon"},null,-1));function H(e,i,l,S,s,f){const _=d("swiper-slide"),u=d("swiper");return o(),h(u,{"slides-per-view":3,navigation:"",autoplay:!1,breakpoints:s.breakpoints},{default:m(()=>[(o(!0),a(R,null,B(s.otherData,(n,k)=>(o(),h(_,{class:"slide",key:k},{default:m(()=>[t("a",{href:"#",onClick:A(dt=>f.getProduct(n.RestaurantID),["prevent"])},[t("div",E,[n.Picture.PictureUrl1?(o(),a("img",{key:1,class:"swiperImg",src:n.Picture.PictureUrl1,alt:n.Picture.PictureDescription1},null,8,j)):(o(),a("img",J))]),t("div",q,[t("h4",null,r(n.RestaurantName),1),t("p",null,[z,g(" "+r(n.Address),1)])])],8,U)]),_:2},1024))),128))]),_:1},8,["breakpoints"])}const K=w(G,[["render",H],["__scopeId","data-v-1f4f4cfb"]]);const Q={components:{SwiperThumbs:P,SwiperOther:K},data(){return{id:"",foodsData:[]}},methods:{getFoods(){const e=`https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant?$filter=contains(RestaurantID, '${this.id}')&$format=JSON`;this.$http.get(e).then(i=>{this.foodsData=i.data,console.log(this.foodsData)})}},created(){this.id=this.$route.params.foodsId,this.getFoods()},beforeRouteLeave(e,i,l){e.meta.keepAlive=!0,l()}},p=e=>(y("data-v-15fd4855"),e=e(),v(),e),W={class:"container"},X={key:0},Y={class:"swiperImg"},Z={key:0,src:D,alt:"預設圖片"},tt={class:"activityText"},et={key:0},st={key:1},ot=p(()=>t("h4",null," 關於 ",-1)),at=p(()=>t("h4",null,"開放時間",-1)),rt=p(()=>t("h4",null,"地址",-1)),it={key:1,class:"swiperOther"},nt=p(()=>t("h4",null,[t("img",{src:$,alt:"其他推薦icon"}),g(" 其他推薦")],-1));function ct(e,i,l,S,s,f){const _=d("SwiperThumbs"),u=d("SwiperOther");return o(),a("main",null,[t("div",W,[s.foodsData[0]?(o(),a("section",X,[t("div",Y,[s.foodsData[0].Picture.PictureUrl1?(o(),h(_,{key:1,imgs:s.foodsData[0].Picture},null,8,["imgs"])):(o(),a("img",Z))]),t("div",tt,[t("h3",null,r(s.foodsData[0].RestaurantName),1),t("p",null,[s.foodsData[0].Class1?(o(),a("span",et,"#"+r(s.foodsData[0].Class1),1)):c("",!0),s.foodsData[0].Class2?(o(),a("span",st,"#"+r(s.foodsData[0].Class2),1)):c("",!0)]),ot,t("p",null,r(s.foodsData[0].Description),1),at,t("p",null,r(s.foodsData[0].OpenTime),1),rt,t("p",null,r(s.foodsData[0].Address),1)])])):c("",!0),s.foodsData[0]?(o(),a("section",it,[nt,V(u,{city:s.foodsData[0].City,"title-name":"RestaurantName"},null,8,["city"])])):c("",!0)])])}const ft=w(Q,[["render",ct],["__scopeId","data-v-15fd4855"]]);export{ft as default};
